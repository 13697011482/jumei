{"version":3,"sources":["webpack:///./src/views/Admin_activeAdd.vue?16de","webpack:///./src/views/Admin_activeAdd.vue?87b4","webpack:///src/views/Admin_activeAdd.vue","webpack:///./src/views/Admin_activeAdd.vue?61f8","webpack:///./src/views/Admin_activeAdd.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","path","_v","ref","form","model","value","callback","$$v","$set","expression","staticClass","handleAvatarSuccess","activeImage","on","onSubmit","staticRenderFns","data","activeName","activeType","smIcon","disCount","file","methods","raw","URL","createObjectURL","params","FormData","append","$axios","component"],"mappings":"gHAAA,W,oECAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,gBAAgB,CAACE,MAAM,CAAC,kBAAkB,wBAAwB,CAACF,EAAG,qBAAqB,CAACE,MAAM,CAAC,GAAK,CAAEC,KAAM,YAAa,CAACP,EAAIQ,GAAG,QAAQJ,EAAG,qBAAqB,CAACJ,EAAIQ,GAAG,WAAW,GAAGJ,EAAG,UAAU,CAACK,IAAI,OAAOH,MAAM,CAAC,GAAK,gBAAgB,MAAQN,EAAIU,KAAK,cAAc,SAAS,CAACN,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,SAAS,CAACF,EAAG,WAAW,CAACO,MAAM,CAACC,MAAOZ,EAAIU,KAAe,WAAEG,SAAS,SAAUC,GAAMd,EAAIe,KAAKf,EAAIU,KAAM,aAAcI,IAAME,WAAW,sBAAsB,GAAGZ,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,SAAS,CAACF,EAAG,WAAW,CAACO,MAAM,CAACC,MAAOZ,EAAIU,KAAe,WAAEG,SAAS,SAAUC,GAAMd,EAAIe,KAAKf,EAAIU,KAAM,aAAcI,IAAME,WAAW,sBAAsB,GAAGZ,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,OAAO,CAACF,EAAG,WAAW,CAACO,MAAM,CAACC,MAAOZ,EAAIU,KAAa,SAAEG,SAAS,SAAUC,GAAMd,EAAIe,KAAKf,EAAIU,KAAM,WAAYI,IAAME,WAAW,oBAAoB,GAAGZ,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,OAAO,CAACF,EAAG,WAAW,CAACO,MAAM,CAACC,MAAOZ,EAAIU,KAAW,OAAEG,SAAS,SAAUC,GAAMd,EAAIe,KAAKf,EAAIU,KAAM,SAAUI,IAAME,WAAW,kBAAkB,GAAGZ,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,SAAS,CAACF,EAAG,YAAY,CAACa,YAAY,kBAAkBX,MAAM,CAAC,OAAS,0DAA0D,kBAAiB,EAAM,aAAaN,EAAIkB,sBAAsB,CAAElB,EAAe,YAAEI,EAAG,MAAM,CAACa,YAAY,SAASX,MAAM,CAAC,IAAMN,EAAImB,eAAef,EAAG,IAAI,CAACa,YAAY,sCAAsCb,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,eAAe,GAAGF,EAAG,eAAe,CAACA,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,WAAWc,GAAG,CAAC,MAAQpB,EAAIqB,WAAW,CAACrB,EAAIQ,GAAG,SAAS,IAAI,IAAI,IAC9nDc,EAAkB,GCuCtB,G,wCAAA,CACEC,KADF,WAEI,MAAO,CACLb,KAAM,CACJc,WAAY,GACZC,WAAY,GACZC,OAAR,GACQC,SAAR,IAEMR,YAAa,GACbS,KAAM,KAGVC,QAAS,CACPX,oBADJ,SACA,KACMjB,KAAK2B,KAAOA,EAAKE,IACjB7B,KAAKkB,YAAcY,IAAIC,gBAAgBJ,EAAKE,MAE9CT,SALJ,WAKA,WAGUO,EAAO3B,KAAK2B,KACZK,EAAS,IAAIC,SACjBD,EAAOE,OAAO,WAAYP,GAC1BK,EAAOE,OAAO,aAAclC,KAAKS,KAAKc,YACtCS,EAAOE,OAAO,aAAclC,KAAKS,KAAKe,YACtCQ,EAAOE,OAAO,SAAUlC,KAAKS,KAAKgB,QAClCO,EAAOE,OAAO,WAAYlC,KAAKS,KAAKiB,UACpCM,EAAOE,OAAO,cAAelC,KAAKkB,aAElClB,KAAKmC,OACX,gCACQ,QAAR,CAAU,eAAV,yBAEA,kBACA,eACU,EAAV,UACY,QAAZ,aACY,KAAZ,YAGU,EAAV,UACY,QAAZ,aACY,KAAZ,aAIA,mBACQ,QAAR,OACQ,EAAR,UACU,QAAV,aACU,KAAV,iBC3F6b,I,wBCQzbC,EAAY,eACd,EACAtC,EACAuB,GACA,EACA,KACA,WACA,MAIa,aAAAe,E","file":"js/chunk-d56ee350.24ffbec7.js","sourcesContent":["export * from \"-!../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/_vue-loader@15.9.4@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.4@vue-loader/lib/index.js??vue-loader-options!./Admin_activeAdd.vue?vue&type=style&index=0&id=7f025f18&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/admin' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"活动添加\")])],1),_c('el-form',{ref:\"form\",attrs:{\"id\":\"activeaddForm\",\"model\":_vm.form,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"活动名称\"}},[_c('el-input',{model:{value:(_vm.form.activeName),callback:function ($$v) {_vm.$set(_vm.form, \"activeName\", $$v)},expression:\"form.activeName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"活动类型\"}},[_c('el-input',{model:{value:(_vm.form.activeType),callback:function ($$v) {_vm.$set(_vm.form, \"activeType\", $$v)},expression:\"form.activeType\"}})],1),_c('el-form-item',{attrs:{\"label\":\"优惠\"}},[_c('el-input',{model:{value:(_vm.form.disCount),callback:function ($$v) {_vm.$set(_vm.form, \"disCount\", $$v)},expression:\"form.disCount\"}})],1),_c('el-form-item',{attrs:{\"label\":\"小图\"}},[_c('el-input',{model:{value:(_vm.form.smIcon),callback:function ($$v) {_vm.$set(_vm.form, \"smIcon\", $$v)},expression:\"form.smIcon\"}})],1),_c('el-form-item',{attrs:{\"label\":\"活动图片\"}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":\"https://www.mocky.io/v2/5185415ba171ea3a00704eed/posts/\",\"show-file-list\":false,\"on-success\":_vm.handleAvatarSuccess}},[(_vm.activeImage)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.activeImage}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"}),_c('input',{attrs:{\"type\":\"hidden\"}})])],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"添加\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{ path: '/admin' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>活动添加</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <el-form id=\"activeaddForm\" ref=\"form\" :model=\"form\" label-width=\"80px\">\r\n      <el-form-item label=\"活动名称\">\r\n        <el-input v-model=\"form.activeName\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"活动类型\">\r\n        <el-input v-model=\"form.activeType\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"优惠\">\r\n        <el-input v-model=\"form.disCount\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"小图\">\r\n        <el-input v-model=\"form.smIcon\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"活动图片\">\r\n        <el-upload\r\n          class=\"avatar-uploader\"\r\n          action=\"https://www.mocky.io/v2/5185415ba171ea3a00704eed/posts/\"\r\n          :show-file-list=\"false\"\r\n          :on-success=\"handleAvatarSuccess\"\r\n        >\r\n          <img v-if=\"activeImage\" :src=\"activeImage\" class=\"avatar\" />\r\n          <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n          <input type=\"hidden\" />\r\n        </el-upload>\r\n      </el-form-item>\r\n     \r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"onSubmit\">添加</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      form: {\r\n        activeName: \"\",\r\n        activeType: \"\",\r\n        smIcon : \"\",\r\n        disCount : \"\"\r\n      },\r\n      activeImage: \"\",\r\n      file: {},\r\n    };\r\n  },\r\n  methods: {\r\n    handleAvatarSuccess(res, file) {\r\n      this.file = file.raw; //上传的对象\r\n      this.activeImage = URL.createObjectURL(file.raw);\r\n    },\r\n    onSubmit() {\r\n      // 利用elementUI自带的上传控件\r\n\r\n      var file = this.file;\r\n      var params = new FormData();\r\n      params.append(\"filename\", file);\r\n      params.append(\"activeName\", this.form.activeName);\r\n      params.append(\"activeType\", this.form.activeType);\r\n      params.append(\"smIcon\", this.form.smIcon);\r\n      params.append(\"disCount\", this.form.disCount);\r\n      params.append(\"activeImage\", this.activeImage);\r\n\r\n      this.$axios\r\n        .post(\"/api/active/activeAdd\", params, {\r\n          headers: { \"Content-Type\": \"multipart/form-data\" },\r\n        })\r\n        .then((res) => {\r\n          if (res.data.code == 0) {\r\n            this.$message({\r\n              message: \"恭喜你，添加活动成功\",\r\n              type: \"success\",\r\n            });\r\n          } else {\r\n            this.$message({\r\n              message: \"添加失败，请重新添加\",\r\n              type: \"error\",\r\n            });\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          this.$message({\r\n            message: \"添加失败，请重新添加\",\r\n            type: \"error\",\r\n          });\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#activeaddForm {\r\n  width: 500px;\r\n  margin-top: 30px;\r\n}\r\n.avatar-uploader .el-upload {\r\n  border: 1px dashed #d9d9d9;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  position: relative;\r\n  overflow: hidden;\r\n  float: left;\r\n}\r\n.avatar-uploader .el-upload:hover {\r\n  border-color: #409eff;\r\n}\r\n.avatar-uploader-icon {\r\n  font-size: 28px;\r\n  color: #8c939d;\r\n  width: 178px;\r\n  height: 178px;\r\n  line-height: 178px;\r\n  text-align: center;\r\n}\r\n.avatar {\r\n  width: 376px;\r\n  height: 130px;\r\n  display: block;\r\n}\r\n.el-form-item__content {\r\n  text-align: left;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.4@vue-loader/lib/index.js??vue-loader-options!./Admin_activeAdd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.4@vue-loader/lib/index.js??vue-loader-options!./Admin_activeAdd.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Admin_activeAdd.vue?vue&type=template&id=7f025f18&scoped=true&\"\nimport script from \"./Admin_activeAdd.vue?vue&type=script&lang=js&\"\nexport * from \"./Admin_activeAdd.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Admin_activeAdd.vue?vue&type=style&index=0&id=7f025f18&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.9.4@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7f025f18\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}
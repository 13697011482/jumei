(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1c3e53b9"],{"2cfd":function(e,t,s){"use strict";s("3ef2")},"3ef2":function(e,t,s){},"73cf":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"register"}},[s("van-nav-bar",{attrs:{title:"注册","right-text":"登录","left-text":"返回"},on:{"click-right":e.changeState,"click-left":e.goBack}}),s("van-form",{attrs:{id:"registerForm"},on:{submit:e.onSubmit}},[s("div",{staticClass:"title"},[s("span",[e._v("账号注册")])]),s("van-field",{attrs:{name:"username",placeholder:"请输入账号",rules:[{required:!0,message:"请填写账号"}]},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),s("van-field",{attrs:{type:"password",name:"password",placeholder:"6-16位登录密码",rules:[{required:!0,message:"请填写密码"}]},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),s("van-field",{staticClass:"checkCode",attrs:{type:"text",name:"checkCode",placeholder:"请输入下图验证码",rules:[{required:!0,message:"请填写验证码"}]},model:{value:e.checkCode,callback:function(t){e.checkCode=t},expression:"checkCode"}}),s("img",{attrs:{src:e.checkImg,alt:""},on:{click:e.changeSrc}}),s("div",{staticStyle:{margin:"16px"}},[s("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit",color:"#feb2c5"}},[e._v(" 注册 ")])],1),s("div",{staticClass:"reg-agree"},[e._v(" 点击注册表示同意 "),s("a",{attrs:{href:"http://i.jumei.com/m/account/protocol"}},[e._v("《聚美优品用户协议》")])])],1)],1)},c=[],n={data:function(){return{username:"",password:"",checkCode:"",checkImg:""}},created:function(){this.changeSrc()},methods:{changeState:function(){this.$router.push("/login")},goBack:function(){history.go(-1)},onSubmit:function(e){var t=this;console.log("submit",e),this.$axios.post("/api/users/register",{username:this.username,password:this.password,checkCode:this.checkCode}).then((function(e){"0"==e.data.code?(t.$notify({type:"success",message:"注册成功"}),t.username="",t.password="",t.checkCode="",t.$router.push("/login")):t.$notify({type:"danger",message:"验证码错误或账号已存在"})})).catch((function(e){t.$notify({type:"danger",message:"注册失败"})}))},changeSrc:function(){this.checkImg="/api/users/checkCode?"+Math.random()}}},r=n,o=(s("2cfd"),s("2c07")),i=Object(o["a"])(r,a,c,!1,null,null,null);t["default"]=i.exports}}]);
//# sourceMappingURL=chunk-1c3e53b9.0d1ca306.js.map
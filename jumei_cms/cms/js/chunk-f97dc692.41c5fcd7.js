(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f97dc692"],{"1f8c":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"postEdit"}},[e("el-breadcrumb",{attrs:{id:"breadcrumb","separator-class":"el-icon-arrow-right"}},[e("el-breadcrumb-item",{attrs:{to:{path:"/admin"}}},[t._v("首页")]),e("el-breadcrumb-item",[t._v("商品管理")])],1),e("el-table",{staticStyle:{width:"100%"},attrs:{id:"edit_tab",data:t.tableData,stripe:""}},[e("el-table-column",{attrs:{prop:"goodsName",label:"商品名称"}}),e("el-table-column",{attrs:{prop:"goodsShop",label:"店铺名称"}}),e("el-table-column",{attrs:{prop:"imageUrl",label:"商品图片"},scopedSlots:t._u([{key:"default",fn:function(t){return[e("img",{attrs:{src:t.row.imageUrl,"min-width":"70",height:"70"}})]}}])}),e("el-table-column",{attrs:{prop:"goodsType",label:"商品类型"}}),e("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.handleToUpdate(a)}}},[t._v("编辑")]),e("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(e){return t.handleToRemove(a)}}},[t._v("删除")])]}}])})],1),e("el-pagination",{attrs:{id:"pagination",background:"",layout:"prev, pager, next",total:t.total,"page-size":10},on:{"current-change":t.handleChange}})],1)},o=[],s={data:function(){return{tableData:[],total:0}},methods:{handleChange:function(t){var a=this;this.nowpage=t,this.$axios.get("/api/post/cmsList",{params:{page:t}}).then((function(t){0==t.data.code&&(a.tableData=t.data.info)}))},handleToUpdate:function(t){var a=t.row.postId;this.$router.push("/admin/postUpdate/"+a)},handleToRemove:function(t){var a=this,e=t.row.postId,n=t.$index;console.log(n,e,t),this.$confirm("此操作将永久删除该商品, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.$axios.get("/api/post/cmsRemove",{params:{postId:e}}).then((function(t){0==t.data.code?(a.$message({type:"success",message:"删除成功!"}),location.reload()):a.$message({type:"success",message:"删除失败!"})})).catch((function(){}))})).catch((function(){a.$message({type:"info",message:"已取消删除"})}))}},mounted:function(){var t=this;this.$axios.get("/api/post/cmsList",{params:{page:1}}).then((function(a){a&&(t.tableData=a.data.info,t.total=a.data.total)}))}},i=s,r=(e("4ad6"),e("2c07")),l=Object(r["a"])(i,n,o,!1,null,"0d51f60a",null);a["default"]=l.exports},"4ad6":function(t,a,e){"use strict";e("a2ea")},a2ea:function(t,a,e){}}]);
//# sourceMappingURL=chunk-f97dc692.41c5fcd7.js.map